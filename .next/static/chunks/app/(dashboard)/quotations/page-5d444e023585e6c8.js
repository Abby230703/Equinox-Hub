(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[144],{17:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},4625:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(5155),r=s(2115),n=s(5069),c=s(5177),l=s(5899),d=s(6648),i=s(4269),o=s(6191),m=s(6651),u=s(9715),x=s(508);let h=(0,s(1847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var p=s(17);function f(){let{divisionCode:e}=(0,n.N)(),t=(0,d.U)(),[s,f]=(0,r.useState)([]),[b,N]=(0,r.useState)(!0),[g,j]=(0,r.useState)("");(0,r.useEffect)(()=>{!async function(){N(!0);let{data:s}=await t.from("divisions").select("id").eq("code",e).single();if(!s)return N(!1);let{data:a}=await t.from("quotations").select("*").eq("division_id",s.id).order("created_at",{ascending:!1});a&&f(a),N(!1)}()},[e,t]);let w=s.filter(e=>e.quotation_number.toLowerCase().includes(g.toLowerCase())||e.customer_name&&e.customer_name.toLowerCase().includes(g.toLowerCase())),y={APT:{accent:"text-apt-500",bg:"bg-apt-500/10"},HOSPI:{accent:"text-hospi-500",bg:"bg-hospi-500/10"}}[e],k={DRAFT:{label:"Draft",className:"bg-zinc-700 text-zinc-300"},SENT:{label:"Sent",className:"bg-blue-500/20 text-blue-400"},ACCEPTED:{label:"Accepted",className:"bg-emerald-500/20 text-emerald-400"},REJECTED:{label:"Rejected",className:"bg-red-500/20 text-red-400"},EXPIRED:{label:"Expired",className:"bg-amber-500/20 text-amber-400"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(c.Y,{title:"Quotations"}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(c.z,{title:"Quotations",description:"Create and manage quotations",action:{label:"New Quotation",onClick:()=>{},icon:(0,a.jsx)(o.A,{className:"w-4 h-4"})}}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"relative max-w-md",children:[(0,a.jsx)(m.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",placeholder:"Search quotations...",value:g,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-card border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})]})}),b?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"inline-block w-8 h-8 border-4 border-muted border-t-foreground rounded-full animate-spin"}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading quotations..."})]}):0===w.length?(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-12 text-center",children:[(0,a.jsx)(u.A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No quotations found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:0===s.length?"Create your first quotation to get started":"No quotations match your search"}),(0,a.jsxs)(l.$n,{className:"gap-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),"New Quotation"]})]})}):(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/50 border-b border-border",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Quotation #"}),(0,a.jsx)("th",{className:"p-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"p-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"p-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"p-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"p-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:w.map(e=>{let t=k[e.status];return(0,a.jsxs)("tr",{className:"border-b border-border hover:bg-zinc-900/30 transition-colors",children:[(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:(0,i.cn)("p-1.5 rounded",y.bg),children:(0,a.jsx)(u.A,{className:(0,i.cn)("w-4 h-4",y.accent)})}),(0,a.jsx)("span",{className:"font-mono text-sm text-zinc-300",children:e.quotation_number})]})}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-foreground",children:e.customer_name||"Unknown"})]})}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(h,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:(0,i.Yq)(e.quotation_date)})]})}),(0,a.jsx)("td",{className:"p-3 font-medium text-foreground",children:(0,i.vv)(e.total_amount)}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:(0,i.cn)("inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",t.className),children:t.label})}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)(l.$n,{variant:"ghost",size:"sm",children:(0,a.jsx)(p.A,{className:"w-4 h-4"})})})]},e.id)})})]})})})})]})]})}},6648:(e,t,s)=>{"use strict";s.d(t,{U:()=>r});var a=s(5417);function r(){return(0,a.createBrowserClient)("https://oryknnnuwqabbvohybjd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9yeWtubm51d3FhYmJ2b2h5YmpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2MjMyMDUsImV4cCI6MjA4NjE5OTIwNX0.LrW7-z1_gu1SPtfUTlZs__W8T6aEm4sE1P6Q2353mnk")}},9246:(e,t,s)=>{Promise.resolve().then(s.bind(s,4625))},9715:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[453,819,755,441,255,358],()=>e(e.s=9246)),_N_E=e.O()}]);