(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{1169:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6134:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),i=s(2115),c=s(5069),r=s(5177),o=s(5899),n=s(6648),l=s(4269),d=s(6617),u=s(1169),m=s(9715);let x=(0,s(1847).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);function h(){let{divisionCode:e,currentDivision:t}=(0,c.N)(),s=(0,n.U)(),[h,b]=(0,i.useState)({totalProducts:0,totalCustomers:0,totalQuotations:0,quotationValue:0}),[N,f]=(0,i.useState)(!0);(0,i.useEffect)(()=>{!async function(){var t;f(!0);let{data:a}=await s.from("divisions").select("id").eq("code",e).single();if(!a)return f(!1);let[i,c,r]=await Promise.all([s.from("products").select("id",{count:"exact"}).eq("division_id",a.id).eq("is_active",!0),s.from("customers").select("id",{count:"exact"}).eq("division_id",a.id),s.from("quotations").select("id, total_amount",{count:"exact"}).eq("division_id",a.id)]);b({totalProducts:i.count||0,totalCustomers:c.count||0,totalQuotations:r.count||0,quotationValue:(null==(t=r.data)?void 0:t.reduce((e,t)=>e+(t.total_amount||0),0))||0}),f(!1)}()},[e,s]);let v={APT:{accent:"text-apt-500",bg:"bg-apt-500/10",border:"border-apt-500/30",gradient:"from-apt-500/20 to-transparent"},HOSPI:{accent:"text-hospi-500",bg:"bg-hospi-500/10",border:"border-hospi-500/30",gradient:"from-hospi-500/20 to-transparent"}}[e];return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(r.Y,{title:"Dashboard"}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:(0,l.cn)("rounded-xl border p-6 mb-6 bg-gradient-to-br",v.border,v.gradient),children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground font-heading",children:"Welcome back!"}),(0,a.jsxs)("p",{className:"text-muted-foreground mt-1",children:[t.name," - ",t.tagline]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)(p,{title:"Total Products",value:h.totalProducts,icon:(0,a.jsx)(d.A,{className:(0,l.cn)("w-5 h-5",v.accent)}),iconBg:v.bg,loading:N}),(0,a.jsx)(p,{title:"Customers",value:h.totalCustomers,icon:(0,a.jsx)(u.A,{className:(0,l.cn)("w-5 h-5",v.accent)}),iconBg:v.bg,loading:N}),(0,a.jsx)(p,{title:"Quotations",value:h.totalQuotations,icon:(0,a.jsx)(m.A,{className:(0,l.cn)("w-5 h-5",v.accent)}),iconBg:v.bg,loading:N}),(0,a.jsx)(p,{title:"Total Value",value:(0,l.vv)(h.quotationValue),icon:(0,a.jsx)(x,{className:(0,l.cn)("w-5 h-5",v.accent)}),iconBg:v.bg,loading:N,isMonetary:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Quick Actions"})}),(0,a.jsx)(o.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(g,{href:"/products/import",icon:(0,a.jsx)(d.A,{className:"w-5 h-5"}),label:"Import Products",colors:v}),(0,a.jsx)(g,{href:"/quotations",icon:(0,a.jsx)(m.A,{className:"w-5 h-5"}),label:"New Quotation",colors:v}),(0,a.jsx)(g,{href:"/customers",icon:(0,a.jsx)(u.A,{className:"w-5 h-5"}),label:"Add Customer",colors:v}),(0,a.jsx)(g,{href:"/products",icon:(0,a.jsx)(x,{className:"w-5 h-5"}),label:"View Catalog",colors:v})]})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Recent Activity"})}),(0,a.jsx)(o.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(j,{icon:(0,a.jsx)(d.A,{className:"w-4 h-4 text-emerald-500"}),title:"Products imported",description:"Price list updated",time:"Just now"}),(0,a.jsx)(j,{icon:(0,a.jsx)(m.A,{className:"w-4 h-4 text-blue-500"}),title:"Quotation created",description:"QT-APT-2025-0001",time:"2 hours ago"}),(0,a.jsx)(j,{icon:(0,a.jsx)(u.A,{className:"w-4 h-4 text-purple-500"}),title:"New customer added",description:"ABC Enterprises",time:"Yesterday"})]})})]})]})]})]})}function p(e){let{title:t,value:s,icon:i,iconBg:c,loading:r,isMonetary:n}=e;return(0,a.jsx)(o.Zp,{children:(0,a.jsxs)(o.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("div",{className:(0,l.cn)("p-2 rounded-lg",c),children:i})}),(0,a.jsxs)("div",{className:"mt-4",children:[r?(0,a.jsx)("div",{className:"h-8 w-20 bg-zinc-800 rounded animate-pulse"}):(0,a.jsx)("p",{className:"text-2xl font-bold text-foreground",children:n?s:s.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:t})]})]})})}function g(e){let{href:t,icon:s,label:i,colors:c}=e;return(0,a.jsxs)("a",{href:t,className:(0,l.cn)("flex items-center gap-3 p-3 rounded-lg border border-border hover:border-zinc-600 transition-colors","hover:bg-zinc-900/50"),children:[(0,a.jsx)("div",{className:(0,l.cn)("p-2 rounded-lg",c.bg),children:(0,a.jsx)("span",{className:c.accent,children:s})}),(0,a.jsx)("span",{className:"text-sm font-medium text-foreground",children:i})]})}function j(e){let{icon:t,title:s,description:i,time:c}=e;return(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-zinc-800",children:t}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:i})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:c})]})}},6617:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},6648:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var a=s(5417);function i(){return(0,a.createBrowserClient)("https://oryknnnuwqabbvohybjd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9yeWtubm51d3FhYmJ2b2h5YmpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2MjMyMDUsImV4cCI6MjA4NjE5OTIwNX0.LrW7-z1_gu1SPtfUTlZs__W8T6aEm4sE1P6Q2353mnk")}},7235:(e,t,s)=>{Promise.resolve().then(s.bind(s,6134))},9715:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[453,819,755,441,255,358],()=>e(e.s=7235)),_N_E=e.O()}]);